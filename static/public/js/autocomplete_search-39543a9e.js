!function(e){function t(t,i){i||(i={debug:!1,target:"self"}),this.domain="https://docs.mendix.com","localhost"===location.hostname?this.domain="http://localhost:4000":"documentation-accp.cfapps.io"===location.hostname&&(this.domain="https://documentation-accp.cfapps.io"),window.ALGOLIA_CONFIG?t&&e(t)?"undefined"!=typeof algoliasearch?(this.opts=i,this.client=null,this.index=null,this.autocomplete=null,this.config=window.ALGOLIA_CONFIG,this.suggestion=null,this.init(e(t))):console.warn("Mendix search: No algolia search library, did you include it?"):console.warn("Mendix search: No selector, no search"):console.warn("Mendix search: NO Algolia config for Mendix Documentation, no search possible")}if(t.prototype.init=function(t){this.$el=t,this.client=algoliasearch(this.config.appId,this.config.apiKey),this.index=this.client.initIndex(this.config.indexName),this.autocomplete=t.autocomplete({hint:!1,debug:this.opts.debug},[{source:e.fn.autocomplete.sources.hits(this.index,{hitsPerPage:5}),displayKey:"title",templates:{empty:function(e,t){return'<div class="no-results">No results found for this search.</div>'},suggestion:function(e){var t="<div>";return t+='<div class="aa-suggestion__title">'+e._highlightResult.title.value+"</div>",t+='<div class="aa-suggestion__text">'+e._highlightResult.text.value+"</div>",t+='<div class="aa-suggestion__space">'+(void 0!==e.space?e.space:"&nbsp;")+"</div>",t+="</div>"},header:function(e,t){if(e.isEmpty)return null;var i='<div class="autocomplete-header">';return i+="<p>There are <span>"+t.nbHits+"</span> results. Press &lt;Enter&gt; for full search or click ",i+='<a href="'+this.domain+"/search/?q="+t.query+'">here</a></p>',i+="</div>"}.bind(this)}}]),t.trigger("focus"),this.autocomplete.on("autocomplete:selected",function(e,t,i){e.stopPropagation(),e.preventDefault();var s=this.domain+t.url.replace(".html","");"new"===this.opts.target?window.open(s):window.location=s}.bind(this)).on("autocomplete:cursorchanged",function(e,t,i){this.suggestion=t}.bind(this)).on("autocomplete:cursorremoved",function(e,t,i){this.suggestion=null}.bind(this)).on("autocomplete:closed",function(e,t,i){this.$el.autocomplete("val",""),this.suggestion=null}.bind(this)).on("keyup",function(e){var t=this.$el.autocomplete("val");null===this.suggestion&&13===e.keyCode&&""!==t&&(window.location=this.domain+"/search/?q="+t)}.bind(this))},window.__searchClient=t,1===e("#mendix_search").length&&new t("#mendix_search",{debug:!1,target:"self"}),0!==e(".not-found-suggestion").length){var i=e(".not-found-suggestion"),s=location.pathname.split("/"),o=""===s.slice(-1)[0]?-2:-1,n=decodeURIComponent(s.slice(o)[0]).replace(/[\ \/\-\+]/g," "),a=algoliasearch(ALGOLIA_CONFIG.appId,ALGOLIA_CONFIG.apiKey).initIndex(ALGOLIA_CONFIG.indexName),l={path:location.href};window.Intercom&&__trackIntercomEvent("page-not-found",l),a.search(n,function(t,s){if(t)console.error(t);else if(s.hits&&s.hits.length>0){var o=s.hits.slice(0,5),n=("localhost"===location.hostname?"/search/?":"https://docs.mendix.com/search/?")+s.params;i.empty(),i.append('<p class="text-center lead">We have the following suggestions:</p><ul class="suggestions"></ul><p class="text-center lead">Or use the <a href="'+n+'">full search</a>.</p>');for(var a=0;a<o.length;a++){var l=o[a],c=("localhost"===location.hostname?"":"https://docs.mendix.com")+l.url.replace(".html",""),h=e('<li><a href="'+c+'">'+l.space+" : "+l.title+"</a></li>");e(".suggestions",i).append(h)}i.removeClass("hidden")}})}}(jQuery);