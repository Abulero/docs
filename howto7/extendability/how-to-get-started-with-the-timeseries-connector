---
#title: "Get Started with the TimeSeries Connector"
#space: "Mendix 7 How-to's"
#category: "Connectors"
#parent: ""
#description: "Set a description with a maximum of 140 characters; this should describe what the goal of the document is, and it can be different from the document introduction; this is optional, and it can be removed"
#tags: "[IoT][Connector][TimeSeries][Big Data][Analytics]"
#toc-level: ""
---

## 1 Introduction

This how-to is focussed on implementing and understanding the TimeSeries Connector and the TimeSeries Analytics platform.

**This how-to will teach you how to do the following:**

* Sign up for the TimeSeries Connector
* Configure the necessary settings
* Implement the actions

## 2 Prerequisites

Before starting this how-to, make sure you have completed the following prerequisites:

* Download and install Mendix 6.6.0 or higher

## 3 Sign up for the TimeSeries Connector

Sign up for the connector by going to [our Connector website](http://connector.timeseries.nl/ "Click here to go to the TimeSeries website") and register for free. After registration you will receive an email with your API key.

Note: It can take up to a few hours to generate the key and send it to you. Use this key to activate and access your TimeSeries Analytics instance.

After receiving the key, download the module from the [Mendix AppStore](https://appstore.home.mendix.com/link/app/31951/TimeSeries/TimeSeries-Connector "Click here for awesomeness"). 

## 4 Configure the necessary settings

Some of the following configurations will already be in place. If so, it will be clarified below.

### 4.1 Constants
- Dateformat: Is by default set to yyyy-MM-dd'T'HH:mm:ss.SSSZ and should remain so.
- TimeSeriesAccessKey: Is empty by default. This is where the access key should go.
- TimeSeriesBasePath: Is by default set to https://timeseries-connector.timeseries.nl:16000/ and should remain so, unless communicated otherwise.

### 4.2 Enumerations
- Enum_AggregationInterval: INTERVAL or REGISTER. These are the supported interval types for aggregation calls.
- Enum_AggregationPeriod: Hourly, daily, weekly, monthly or yearly. These are the supported periods in ISO format.
- Enum_MeasurementType: INTERVAL, REGISTER or EVENT. These are the supported measurement types. Note: measurements of type EVENT can not be aggregated.
- Enum_SearchType: Purely for UI. These are used to determine which search to perform.

## 5 Implementation
To give an example on how to use the Analytics platform we'll explain using the concept of a house. In this scenario the house is an asset, of which you can have multiple. This house will use gas and electricity, which we call channels. Each channel can hold values over time; every X seconds, minutes, hours, etc electricity usage can be measured and saved. These measurements can later be used for analysis.

TODO: http://connector.timeseries.nl/img/Systemoverview.PNG

### 5.1 Create an asset

Firstly, you will have to create an asset. Make sure to provide an **Asset name**, otherwise the connector will return an error. You are free to chose the name.

<iframe width='100%' height='491px' frameborder='0' src='https://modelshare.mendix.com/models/12613211-22be-4c65-aac9-bb7d821ed99e/timeseries-connector-create-asset?embed=true' allowfullscreen></iframe>

This action will return an **Asset ID**, which you can store in your database for access.

### 5.2 Create a channel

Next, you will have to create a channel. Make sure your channel belongs to an asset and to provide the **Asset ID**, a **Channel key** and a **Measurement interval**. You are free to chose the channel key name and the measurement interval. This interval is stored and can be used for analysis.

<iframe width='100%' height='491px' frameborder='0' src='https://modelshare.mendix.com/models/d0dc163e-9741-4efc-986e-00bcbbf86ce7/timeseries-connector-create-channel?embed=true'></iframe>

This action will return a boolean, specifying if the action was successful.

### 5.3 Store measurement(s)

Now that you have created an asset with a channel, it's possible to start storing measurements. Make sure your measurement belongs to a channel (and thus, an asset) and to provide the **Date and time**, the **Measurement type** and the **Value**. The **Date and time** needs to be formatted in UTC to the following format:  yyyy-MM-dd'T'HH:mm:ss.SSSZ, the **Measurement type** can be INTERVAL, REGISTER or EVENT and the **Value** is a decimal.

<iframe width='100%' height='491px' frameborder='0' src='https://modelshare.mendix.com/models/ab003bd9-159a-4b76-8fbe-42512951c28b/timeseries-connector-store-measurement?embed=true'></iframe>

This action will return a boolean, which is not used. 

### 5.4 Aggregate your data

Once your channel has sufficient data, the power of the TimeSeries Connector can shine. Instead of having enormous amounts of data in your database which takes a long time to aggregate for reporting, you can now simply ask the TimeSeries platform for an aggregation of your data. For aggregation calls, supply the following information: An empty **Type parameter** used to populate the results, the **Asset ID** and **Channel key** to aggregate in, a **Start date** and **End date** in epoch time, an *Aggregation period** such as hourly or daily in the correct ISO format, the **Timezone** in which the results will be aggregated and the **Measurement type** in which the measurements have been stored.

Make sure that the search result **Type parameter** has all the necessary attributes. An example entity:

TODO: http://connector.timeseries.nl/img/example-aggregate-domain.png

Now you can create your logic.

<iframe width='100%' height='491px' frameborder='0' src='https://modelshare.mendix.com/models/9d9055e4-4301-4ee4-8ef9-fdcbcd05079e/timeseries-connector-get-aggregations?embed=true'></iframe>

This action will return a list of your type parameter. In this list you will find an aggregation of the channel data by the aggregation period specified. For example: From March 1st up to March 10th, you will receive a list of your total electricity usage per day. This means your list will hold 10 objects. 

## 6 Final remarks

In this 'How to get started with the TimeSeries Connector',  an example is provided on how to implement a basic subset of the available actions. Over time, more actions will be released.

If you have any questions, please contact Paul Ketelaars at <paul.ketelaars@timeseries.nl> or Willem van Zantvoort at <willem.van.zantvoort@timeseries.nl>. 

## 7 Related Content

{Do not enter anything here, this will be generated by Mendix
